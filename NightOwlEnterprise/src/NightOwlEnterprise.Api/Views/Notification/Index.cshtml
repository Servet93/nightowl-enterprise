<!DOCTYPE html>

<html>
<head>
    <title>Notification</title>
</head>
<body>
<div>
  <b>Welcome to the Notification</b>
</div>
<script type="module">
if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        console.log('Sayfa tamamen yüklendi.');
        navigator.serviceWorker.register('/firebase-messaging-sw.js')
          .then((registration) => {
            console.log('Service Worker registered:', registration);
          }).catch((err) => {
            console.error('Service Worker registration failed:', err);
          });
      });
}
</script>
<script type="module">
  // // Import the functions you need from the SDKs you need
  // import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  // import { getToken, getMessaging, onMessage } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-messaging.js'
  // import { onBackgroundMessage } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-messaging-sw.js'
  // // TODO: Add SDKs for Firebase products that you want to use
  // // https://firebase.google.com/docs/web/setup#available-libraries
  //
  // // Your web app's Firebase configuration
  // const firebaseConfig = {
  //   apiKey: "AIzaSyCCAnJUTrtKmZQ8a0DhucxuaqW5eVU4XaM",
  //   authDomain: "nightowlenterprise-7a6c9.firebaseapp.com",
  //   projectId: "nightowlenterprise-7a6c9",
  //   storageBucket: "nightowlenterprise-7a6c9.appspot.com",
  //   messagingSenderId: "864372115977",
  //   appId: "1:864372115977:web:03418a0ab80ba32b2d86d8"
  // };
  //
  // // Initialize Firebase
  // const firebaseApp  = initializeApp(firebaseConfig);
  // console.log(firebaseApp );
  //
  // // Retrieve an instance of Firebase Messaging so that it can handle background
  // // messages.
  // const messaging = getMessaging(firebaseApp);
  //
  // // Add the public key generated from the console here. 
  // // getToken(messaging, {vapidKey: "BKagOny0KF_2pCJQ3m....moL0ewzQ8rZu"}); 
  // getToken(messaging, { vapidKey: 'BG8ZPBU7X7lnasY_Tm-VISROjf6K_u84baTYN705IureHKjj2LfaxkzFDPWAg91f5fC-BaGJg8mkeyDEbr3aaL4' }).then((currentToken) => { 
  //   if (currentToken) { 
  //     console.log("currentToken -> " + currentToken);
  //     // Send the token to your server and update the UI if necessary 
  //     // ... 
  //   } else { 
  //     // Show permission request UI 
  //     console.log('No registration token available. Request permission to generate one.'); 
  //     // ... 
  //   } 
  // }).catch((err) => { 
  //   console.log('An error occurred while retrieving token. ', err); 
  //   // ... 
  // }); 
  //
  // onMessage(messaging, (payload) => {
  //   console.log('Message received. ', payload);
  //   // ...
  // });
  //
  // onBackgroundMessage(messaging, (payload) => {
  //   console.log('[firebase-messaging-sw.js] Received background message ', payload);
  //   // Customize notification here
  //   const notificationTitle = 'Background Message Title';
  //   const notificationOptions = {
  //     body: 'Background Message body.',
  //     icon: '/firebase-logo.png'
  //   };
  //
  //   self.registration.showNotification(notificationTitle,
  //     notificationOptions);
  // });
  
</script>

@*   <script type="module"> *@
@*     import { initializeApp  } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js' *@
@*     // import { auth } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js' *@
@*     import { getMessaging, getToken  } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-messaging.js' *@
@*      *@
@*     // TODO: Replace the following with your app's Firebase project configuration *@
@*     const firebaseConfig = { *@
@*       //... *@
@*     }; *@
@*      *@
@*     // Initialize Firebase *@
@*     const app = initializeApp(firebaseConfig); *@
@*      *@
@*     // Initialize Firebase Cloud Messaging and get a reference to the service *@
@*     const messaging = getMessaging(app); *@
@*      *@
@*     // Add the public key generated from the console here. *@
@*     // getToken(messaging, {vapidKey: "BKagOny0KF_2pCJQ3m....moL0ewzQ8rZu"}); *@
@*     getToken(messaging, { vapidKey: '<YOUR_PUBLIC_VAPID_KEY_HERE>' }).then((currentToken) => { *@
@*       if (currentToken) { *@
@*         // Send the token to your server and update the UI if necessary *@
@*         // ... *@
@*       } else { *@
@*         // Show permission request UI *@
@*         console.log('No registration token available. Request permission to generate one.'); *@
@*         // ... *@
@*       } *@
@*     }).catch((err) => { *@
@*       console.log('An error occurred while retrieving token. ', err); *@
@*       // ... *@
@*     }); *@
@*      *@
@*     function requestPermission() { *@
@*       console.log('Requesting permission...'); *@
@*       Notification.requestPermission().then((permission) => { *@
@*         if (permission === 'granted') { *@
@*           console.log('Notification permission granted.'); *@
@*           } *@
@*         }); *@
@*     } *@
@*      *@
@*   </script> *@
</body>
</html>